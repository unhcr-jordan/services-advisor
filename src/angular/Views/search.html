<div class="row">
  <h1 class="services-advisor-title">{{ 'SERVICES_ADVISOR' | translate }}</h1>
  <!-- TODO: huge hack here using global variable to be able to call map.invalidateSize() on map so it resizes -->
  <button id="toggleMapButton" type="button" class="btn btn-default visible-xs toggle-map-search"
          onclick="toggleMap()">
    {{ 'TOGGLE_MAP' | translate }}
  </button>
</div>
<div class="row">
  <p class="instructions">{{'SEARCH_TEXT' | translate}}</p>
</div>
<div class="row">
  <h3>{{'CATEGORY' | translate}}</h3>
  <div class="list-group">
    <div ng-init="categoryId = 'category-' + $index" id="{{categoryId}}" ng-repeat="category in categories">
      <a class="list-group-item category" ng-click="toggleCategory(categoryId)">
          <span class="glyphicon glyphicon-chevron-right"></span>
          {{category.name}} 
          <span class="badge">{{category.count}}</span>
      </a>
      <div id="{{category.name}}Activities" class="activities hidden">
        <a ng-repeat="activity in category.activities" ng-click="showCategoryResults(activity.name);" ng-class="'list-group-item activityname-filter-value-' + toCssClass(activity.name)">
          <span class="glyph"></span>{{activity.name}}
          <span class="badge">{{activity.count}}</span>
        </a>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <h3>{{'REGION' | translate}}</h3>
  <!-- populating the catgories from the SearchCtrl  -->
  <div class="list-group">
    <div ng-repeat="region in regions">
      <a ng-click="showRegionResults(region);" class="list-group-item">
        <span class="-map-icon">&#xf041;</span> {{region | translate}}
      </a>
    </div>
  </div>
</div>
<div class="row">{{ 'POWERED_BY' | translate }}</div>

<script>
  $('#mapContainer').addClass('map-hide');
</script>
